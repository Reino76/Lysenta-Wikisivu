<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Northlands â€“ Locations of Lysent</title>
<link rel="stylesheet" href="../../assets/style.css">
<link rel="icon" href="../../assets/favicon.svg" type="image/svg+xml">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Metal+Mania&family=Texturina:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="dark">

<header class="site-header">
  <a class="home" href="../../index.html">Takaisin alkusivulle</a>
  <nav class="nav">
    <a href="../../world.html">Lysentan Maailma</a>
    <a href="../../characters.html">Hahmot</a>
    <a href="../../sessions.html">Pelikerrat</a>
  </nav>
</header>

<div class="page-content">

  <nav class="sidebar">
    <h2>Northlands Locations</h2>
    <a href="#overview" class="active">Northlands (Overview)</a>
    <a href="#hrafnborg">Hrafnborg (Capital)</a>
    <a href="#frozen-pass">Frozen Pass</a>
    <a href="#dragonpeak">Dragonpeak Mountain</a>
  </nav>

  <main class="container article">
    <h1 id="overview">Northlands</h1>
    <div class="location-meta"> A frigid region of ice, fjords, and old sagas.</div>

    <div class="map-wrap" style="max-width: 800px; margin: 30px auto;">
        <img src="../../assets/images/Lysenta_Raw.png" alt="Local map placeholder (uses world map)">
        
        <a class="map-pin town" href="#hrafnborg" style="top:50%; left:30%;" title="Hrafnborg (Capital)"></a>
        <a class="map-pin general" href="#frozen-pass" style="top:35%; left:50%;" title="Frozen Pass"></a>
        <a class="map-pin landmark" href="#dragonpeak" style="top:15%; left:65%;" title="Dragonpeak Mountain"></a>
        <a class="map-pin tower" href="#hrafnborg" style="top:70%; left:15%;" title="Example Outpost Town"></a>
        <a class="map-pin landmark" href="#dragonpeak" style="top:25%; left:80%;" title="Example Hidden Shrine"></a>
        
        </div>

    <div class="infobox" style="position: static; top: unset;">
      <h3>Northlands Summary</h3>
      <p><b>Type:</b> Continent/Region</p>
      <p><b>Capital:</b> Hrafnborg</p>
      <p><b>Population:</b> Sparse clans, raiders, exiles</p>
      <p><b>Known for:</b> Endless winter, mead halls, sagas</p>
    </div>

    <div class="section">
      <h2>Overview</h2>
      <p>The Northlands are a frigid wilderness, home to ancient tribes, icy fjords, and beasts of legend. Few outsiders survive the long winters, and those who do are forever changed. The culture is dominated by Viking-like clans and a deep reverence for ancestral spirits and the harsh natural world.</p>
    </div>

    <div class="section">
      <h2>Local Lore</h2>
      <p>For centuries, the clans of the Northlands waged endless war with one another, until the coming of the frost seers, who unified them under shared omens. Yet the fragile peace never lasted long. Now, a new threat stirs on the highest mountain...</p>
    </div>

    <div class="category-break">Notable Locations</div>
    
    <div class="gallery">
      <a href="hrafnborg.html">
        <div class="card" id="hrafnborg">
          <h3>Hrafnborg</h3>
          <p>A fortified village built around a sacred mead hall, and the current seat of the fractured Northlands alliance.</p>
        </div>
      </a>
      <a href="frozen-pass.html">
        <div class="card" id="frozen-pass">
          <h3>Frozen Pass</h3>
          <p>A perilous mountain crossing haunted by trolls and worse. It is the only reliable path south when the ice thins.</p>
        </div>
      </a>
      <a href="dragonpeak.html">
        <div class="card" id="dragonpeak">
          <h3>Dragonpeak Mountain</h3>
          <p>The looming, active volcano where legends claim an ancient, powerful dragon slumbers, occasionally waking to demand tribute.</p>
        </div>
      </a>
    </div>

    <div class="section">
      <h2>Factions & People</h2>
      <p>The Wolfclaw Raiders sail the frozen seas. The Ice-Seer Order holds sway over the fragile politics. Scattered villages struggle for survival against the harsh elements.</p>
    </div>
  </main>
</div>

<div id="map-tooltip">
  <h3 id="tooltip-title">Location Name</h3>
  <button id="tooltip-button">Go to Details</button>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mapWrap = document.querySelector('.map-wrap');
    if (!mapWrap) return;

    const tooltip = document.getElementById('map-tooltip');
    const tooltipTitle = document.getElementById('tooltip-title');
    const tooltipButton = document.getElementById('tooltip-button');
    const mapPins = document.querySelectorAll('.map-pin');
    let hideTimeout;

    const showTooltip = (pin) => {
      clearTimeout(hideTimeout); // Cancel any pending hide command

      const mapRect = mapWrap.getBoundingClientRect();
      const locationName = pin.getAttribute('title');
      const targetId = pin.getAttribute('href');

      // Calculate pin's absolute position on the page
      const pinTopPercent = parseFloat(pin.style.top);
      const pinLeftPercent = parseFloat(pin.style.left);
      const pinAbsX = mapRect.left + window.scrollX + (pinLeftPercent / 100) * mapWrap.offsetWidth;
      const pinAbsY = mapRect.top + window.scrollY + (pinTopPercent / 100) * mapWrap.offsetHeight;

      // Populate, position, and show the tooltip
      tooltipTitle.textContent = locationName;
      tooltip.style.top = `${pinAbsY}px`;
      tooltip.style.left = `${pinAbsX}px`;
      tooltip.dataset.target = targetId;
      tooltip.classList.add('visible');
    };

    const hideTooltip = () => {
      hideTimeout = setTimeout(() => {
        tooltip.classList.remove('visible');
      }, 300); // A small delay before hiding
    };

    mapPins.forEach(pin => {
      pin.addEventListener('mouseenter', () => showTooltip(pin));
      pin.addEventListener('mouseleave', hideTooltip);
    });

    // Keep tooltip visible when mouse is over it
    tooltip.addEventListener('mouseenter', () => clearTimeout(hideTimeout));
    tooltip.addEventListener('mouseleave', hideTooltip);

    // Button click functionality
    tooltipButton.addEventListener('click', () => {
      const targetId = tooltip.dataset.target;
      if (!targetId) return;

      const targetCard = document.querySelector(targetId + ' .card') || document.querySelector(targetId);
      if (targetCard) {
        targetCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
        targetCard.classList.add('highlight-target');
        setTimeout(() => {
          targetCard.classList.remove('highlight-target');
        }, 1200);
      }
      tooltip.classList.remove('visible');
    });
  });
</script>

</body>
</html>